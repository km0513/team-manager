{% extends 'base.html' %}
{% block content %}
<!-- Alpine.js CDN for interactivity (if needed) -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
<style>
  [x-cloak] { display: none !important; }
</style>

<div class="w-full min-h-[70vh] flex flex-col sm:flex-row justify-center items-center px-2 sm:px-0 py-8">
  <!-- Info box on the left -->
  {# Removed old yellow guest info box to avoid duplication. #}
  <!-- Login form -->
  <form method="POST" class="w-full max-w-xs bg-white border border-upgradAccent rounded-xl shadow p-4 sm:p-6 space-y-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="space-y-2 mb-2">
          {% for category, message in messages %}
            <div class="rounded px-3 py-2 text-xs sm:text-sm font-semibold {{ 'bg-upgradPink text-upgradRed border border-upgradRed' if category == 'error' else 'bg-upgradYellow text-upgradRed border border-upgradAccent' }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    <h2 class="text-xl font-bold text-upgradRed mb-4 text-center">Login</h2>
    <div class="mb-2 sm:mb-3">
      <label class="block mb-1 text-upgradRed font-medium text-sm" for="username">Username</label>
      <input type="text" id="username" name="username" class="block w-full rounded-lg border border-upgradAccent bg-white px-3 py-2 text-sm shadow-sm focus:border-upgradRed focus:ring-2 focus:ring-upgradYellow focus:outline-none transition-all duration-150" required>
    </div>
    <div class="mb-2 sm:mb-3">
      <label class="block mb-1 text-upgradRed font-medium text-sm" for="password">Password</label>
      <input type="password" id="password" name="password" class="block w-full rounded-lg border border-upgradAccent bg-white px-3 py-2 text-sm shadow-sm focus:border-upgradRed focus:ring-2 focus:ring-upgradYellow focus:outline-none transition-all duration-150" required>
    </div>
    <button type="submit" class="w-full bg-upgradYellow hover:bg-upgradAccent text-upgradRed text-base font-semibold rounded-md py-2 shadow transition min-h-[44px]">Login</button>
  </form>
</div>

{% endblock %}
