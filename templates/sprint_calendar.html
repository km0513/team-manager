{% extends 'base.html' %}
{% block content %}
<!-- Alpine.js CDN for interactivity (if needed) -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
<style>
  [x-cloak] { display: none !important; }
</style>
<div class="container mt-4">
  <h3><i class="bi bi-calendar-event"></i> Jira Sprint Calendar</h3>
  <p><strong>{{ current_month }}</strong></p>

  {% if events %}
  <table class="table table-bordered table-striped table-sm">
    <thead class="table-light">
      <tr>
        <th scope="col">Sprint Title</th>
        <th scope="col">Start Date</th>
        <th scope="col">End Date</th>
        <th scope="col">Status</th>
        <th scope="col">Goal</th>
      </tr>
    </thead>
    <tbody>
      {% for event in events %}
      <tr>
        <td>{{ event.title }}</td>
        <td>{{ event.start }}</td>
        <td>{{ event.end }}</td>
        <td>{{ event.extendedProps.status }}</td>
        <td>{{ event.extendedProps.goal or 'â€”' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p class="text-muted" x-cloak>No sprints found for the selected month.</p>
  {% endif %}
</div>
{% endblock %}
